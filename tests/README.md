# TimeFlies Test Suite

Clean, organized tests with fast feedback loops.

## Structure

```
tests/
├── unit/          # Fast isolated tests (~5-15 seconds)
├── integration/   # Component integration (~30-60 seconds)
├── functional/    # Complete workflows (~2-5 minutes)
├── system/        # CLI and installation (~10-30 seconds)
└── fixtures/      # Test data and utilities
    ├── unit_test_data.py        # In-memory mock data for unit tests  
    ├── fixture_generator.py     # Real data sampling CLI tool
    ├── fruitfly_aging/         # Project-specific test fixtures
    └── fruitfly_alzheimers/    # Generated by create-test-data command
```

## Commands

```bash
# Recommended: Use main CLI
python run_timeflies.py test              # All tests  
python run_timeflies.py test --fast       # Unit + integration only
python run_timeflies.py test --coverage   # With coverage report
python run_timeflies.py test --verbose    # Detailed output
python run_timeflies.py test --debug      # Stop on first failure
python run_timeflies.py test --rerun      # Re-run failed tests only

# Direct test runner (alternative)
python tests/test_runner.py unit          # Fast unit tests
python tests/test_runner.py integration   # Component integration
python tests/test_runner.py functional    # End-to-end workflows
python tests/test_runner.py system        # CLI/installation
```

## What Each Type Tests

**Unit**: Individual functions with mocks - no real files, no training  
**Integration**: Components working together with small real data
- `test_data_pipeline_comprehensive.py` - Data loading, preprocessing, file I/O
- `test_model_pipeline_comprehensive.py` - Model creation, training, evaluation  
**Functional**: Complete end-to-end workflows with real training and interpretation
- `test_complete_pipeline.py` - Full pipeline from data → model → evaluation
**System**: CLI commands and installation validation
- `test_cli_commands.py` - CLI argument parsing and command execution
- `test_installation.py` - Package installation and environment setup

## Development Workflow

```bash
# Quick feedback while coding
python run_timeflies.py test --fast

# Debug failing test
python run_timeflies.py test --debug --verbose

# Before committing  
python run_timeflies.py test

# Re-run just the failures
python run_timeflies.py test --rerun
```

## Options

- `--verbose` - Detailed output
- `--debug` - Stop on first failure  
- `--rerun` - Re-run failed tests only
- `--coverage` - Generate HTML coverage report